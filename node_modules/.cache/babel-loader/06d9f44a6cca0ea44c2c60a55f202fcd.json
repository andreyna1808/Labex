{"ast":null,"code":"import _slicedToArray from\"/home/andreyna/moreira-Andreyna-Carvalho/modulo3/projeto-labex/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState}from\"react\";import{Link,useHistory}from\"react-router-dom\";import{urlLogin}from\"../../components/url/urls\";import{Form,Input}from\"../subscribeUser/subsStyled\";import{Buttons}from\"../tripDetail/detailStyled\";import VerificaLogin from\"../verificaLogin\";import{Container,Fundo}from\"./loginStyled\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){//Vou ser uma função de login para entrar no painel do adm\nVerificaLogin();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),senha=_useState4[0],setSenha=_useState4[1];var history=useHistory();var onEmail=function onEmail(e){setEmail(e.target.value);};var onSenha=function onSenha(e){setSenha(e.target.value);};var logar=function logar(){var body={email:email,password:senha};axios.post(urlLogin,body).then(function(res){localStorage.setItem('token',res.data.token);history.push('/dashboard');console.log('Sucesso',res.data.token);}).catch(function(err){alert('Desculpa, mas esse login não consta no nosso banco de dados');console.log('erro na pagina de Login linha 30',err);});};return/*#__PURE__*/_jsx(Fundo,{children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Input,{type:\"email\",required:true,placeholder:\"Seu email\",value:email,onChange:onEmail}),/*#__PURE__*/_jsx(Input,{type:\"password\",required:true,placeholder:\"Sua senha\",value:senha,onChange:onSenha})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Buttons,{onClick:logar,children:\"Fazer login\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(Buttons,{children:\"Voltar\"})})]})]})});}","map":{"version":3,"sources":["/home/andreyna/moreira-Andreyna-Carvalho/modulo3/projeto-labex/src/pages/LoginPage/login.js"],"names":["axios","useState","Link","useHistory","urlLogin","Form","Input","Buttons","VerificaLogin","Container","Fundo","Login","email","setEmail","senha","setSenha","history","onEmail","e","target","value","onSenha","logar","body","password","post","then","res","localStorage","setItem","data","token","push","console","log","catch","err","alert"],"mappings":"oJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,OAASC,QAAT,KAAyB,2BAAzB,CACA,OAASC,IAAT,CAAeC,KAAf,KAA4B,6BAA5B,CACA,OAASC,OAAT,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,CACA,OAASC,SAAT,CAAoBC,KAApB,KAAiC,eAAjC,C,wFAGA,cAAe,SAASC,CAAAA,KAAT,EAAiB,CAC9B;AACAH,aAAa,GACb,cAA0BP,QAAQ,CAAC,EAAD,CAAlC,wCAAOW,KAAP,eAAcC,QAAd,eACA,eAA0BZ,QAAQ,CAAC,EAAD,CAAlC,yCAAOa,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,OAAO,CAAGb,UAAU,EAA1B,CAEA,GAAMc,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,CAAD,CAAO,CACrBL,QAAQ,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACD,CAFD,CAGA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACH,CAAD,CAAO,CACrBH,QAAQ,CAACG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACD,CAFD,CAGA,GAAME,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,GAAMC,CAAAA,IAAI,CAAG,CACXX,KAAK,CAAEA,KADI,CAEXY,QAAQ,CAAEV,KAFC,CAAb,CAIAd,KAAK,CAACyB,IAAN,CAAWrB,QAAX,CAAqBmB,IAArB,EACCG,IADD,CACM,SAACC,GAAD,CAAS,CACbC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,GAAG,CAACG,IAAJ,CAASC,KAAvC,EACAf,OAAO,CAACgB,IAAR,CAAa,YAAb,EACAC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBP,GAAG,CAACG,IAAJ,CAASC,KAAhC,EACD,CALD,EAMCI,KAND,CAMO,SAACC,GAAD,CAAS,CACdC,KAAK,CAAC,6DAAD,CAAL,CACAJ,OAAO,CAACC,GAAR,CAAY,kCAAZ,CAAgDE,GAAhD,EACD,CATD,EAUD,CAfD,CAiBA,mBACE,KAAC,KAAD,wBACE,MAAC,SAAD,yBACE,MAAC,IAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,QAAQ,KAA5B,CAA6B,WAAW,CAAC,WAAzC,CAAqD,KAAK,CAAExB,KAA5D,CAAmE,QAAQ,CAAEK,OAA7E,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,QAAQ,KAA/B,CAAgC,WAAW,CAAC,WAA5C,CAAwD,KAAK,CAAEH,KAA/D,CAAsE,QAAQ,CAAEO,OAAhF,EAFF,GADF,cAKE,oCACE,KAAC,OAAD,EAAS,OAAO,CAAEC,KAAlB,yBADF,cAEE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBAAa,KAAC,OAAD,qBAAb,EAFF,GALF,GADF,EADF,CAcD","sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { urlLogin } from \"../../components/url/urls\";\nimport { Form, Input } from \"../subscribeUser/subsStyled\";\nimport { Buttons } from \"../tripDetail/detailStyled\";\nimport VerificaLogin from \"../verificaLogin\";\nimport { Container, Fundo } from \"./loginStyled\";\n\n\nexport default function Login() {\n  //Vou ser uma função de login para entrar no painel do adm\n  VerificaLogin();\n  const [email, setEmail] = useState('');\n  const [senha, setSenha] = useState('');\n  const history = useHistory();\n\n  const onEmail = (e) => {\n    setEmail(e.target.value)\n  }\n  const onSenha = (e) => {\n    setSenha(e.target.value)\n  }\n  const logar = () => {\n    const body = {\n      email: email,\n      password: senha,\n    }\n    axios.post(urlLogin, body)\n    .then((res) => {\n      localStorage.setItem('token', res.data.token)\n      history.push('/dashboard')\n      console.log('Sucesso', res.data.token);\n    })\n    .catch((err) => {\n      alert('Desculpa, mas esse login não consta no nosso banco de dados')\n      console.log('erro na pagina de Login linha 30', err);\n    })\n  }\n\n  return (\n    <Fundo>\n      <Container>\n        <Form>\n          <Input type=\"email\" required placeholder=\"Seu email\" value={email} onChange={onEmail}></Input>\n          <Input type=\"password\" required placeholder=\"Sua senha\" value={senha} onChange={onSenha}></Input>\n        </Form>\n        <div>\n          <Buttons onClick={logar}>Fazer login</Buttons>\n          <Link to=\"/\"><Buttons>Voltar</Buttons></Link>\n        </div>\n      </Container>\n    </Fundo>\n  );\n}"]},"metadata":{},"sourceType":"module"}