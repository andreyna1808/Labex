{"ast":null,"code":"import _slicedToArray from\"/home/andreyna/moreira-Andreyna-Carvalho/modulo3/projeto-labex/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import{useEffect,useState}from'react';import{Link}from'react-router-dom';import{urlTripDetail}from'../../components/url/urls';import{Paragrafo}from'../allTrip/AllTripStyled';import{Tittle}from'../subscribeUser/subsStyled';import{Container,ButtonCreate,ContainerCard,Botoes,Buttons,Linha}from'./detailStyled';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function TripDetail(){//Vou ser uma função de de apertar e ver os detalhes\nvar _useState=useState(localStorage.getItem('id')),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),viagemDetalhada=_useState4[0],setViagemDetalhada=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),pendentes=_useState6[0],setPendentes=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),aprovados=_useState8[0],setAprovados=_useState8[1];var todosOsDetalhes=function todosOsDetalhes(){var url=urlTripDetail+id;axios.get(\"\".concat(url),{headers:{auth:localStorage.getItem('token')}}).then(function(res){setViagemDetalhada(res.data.trip);setPendentes(res.data.trip.candidates);setAprovados(res.data.trip.approved);}).catch(function(err){console.log(err.data);});};var aprovarCandidato=function aprovarCandidato(candidateId){var url=\"https://us-central1-labenu-apis.cloudfunctions.net/labeX/dricaMoreira/trips/\".concat(id,\"/candidates/\").concat(candidateId,\"/decide\");var body={approve:true};axios.put(url,body,{headers:{auth:localStorage.getItem('token')}}).then(function(res){todosOsDetalhes();}).catch(function(err){alert('Não foi possível aprovar o(a) candidato(a)');console.log(err.response);});};var reprovarCandidato=function reprovarCandidato(reproveId){var url=\"https://us-central1-labenu-apis.cloudfunctions.net/labeX/dricaMoreira/trips/\".concat(id,\"/candidates/\").concat(reproveId,\"/decide\");var body={approve:false};axios.put(url,body,{headers:{auth:localStorage.getItem('token')}}).then(function(){todosOsDetalhes();}).catch(function(err){alert('Não foi possível aprovar o(a) candidato(a)');});};useEffect(function(){todosOsDetalhes();},[]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Tittle,{children:\"Detalhes de Viagens\"}),/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",children:/*#__PURE__*/_jsx(ButtonCreate,{children:\"Voltar ao painel administrativo\"})}),/*#__PURE__*/_jsxs(ContainerCard,{children:[/*#__PURE__*/_jsx(\"h1\",{children:viagemDetalhada.name}),/*#__PURE__*/_jsx(Paragrafo,{children:viagemDetalhada.description}),/*#__PURE__*/_jsx(Paragrafo,{children:viagemDetalhada.planet}),/*#__PURE__*/_jsx(Paragrafo,{children:viagemDetalhada.durationInDays}),/*#__PURE__*/_jsx(Paragrafo,{children:viagemDetalhada.date})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"Candidatos aprovados\"}),/*#__PURE__*/_jsx(ContainerCard,{children:aprovados&&aprovados.length>0?aprovados.map(function(dados){return/*#__PURE__*/_jsx(Linha,{children:dados.name},dados.id);}):/*#__PURE__*/_jsx(\"p\",{children:\"Nenhum candidato foi aprovado ainda\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Candidatos pendentes\"}),pendentes&&pendentes.length>0?pendentes.map(function(dados){return/*#__PURE__*/_jsxs(ContainerCard,{children:[/*#__PURE__*/_jsx(\"h1\",{children:dados.name}),/*#__PURE__*/_jsxs(Botoes,{children:[/*#__PURE__*/_jsx(Buttons,{onClick:function onClick(){return aprovarCandidato(dados.id);},children:\"Aprovar\"}),/*#__PURE__*/_jsx(Buttons,{onClick:function onClick(){return reprovarCandidato(dados.id);},children:\"Reprovar\"})]})]},dados.id);}):/*#__PURE__*/_jsx(\"p\",{children:\"Essa viagem n\\xE3o possui nenhum candidato pendente\"})]});}","map":{"version":3,"sources":["/home/andreyna/moreira-Andreyna-Carvalho/modulo3/projeto-labex/src/pages/tripDetail/tripDetail.js"],"names":["axios","useEffect","useState","Link","urlTripDetail","Paragrafo","Tittle","Container","ButtonCreate","ContainerCard","Botoes","Buttons","Linha","TripDetail","localStorage","getItem","id","setId","viagemDetalhada","setViagemDetalhada","pendentes","setPendentes","aprovados","setAprovados","todosOsDetalhes","url","get","headers","auth","then","res","data","trip","candidates","approved","catch","err","console","log","aprovarCandidato","candidateId","body","approve","put","alert","response","reprovarCandidato","reproveId","name","description","planet","durationInDays","date","length","map","dados"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { urlTripDetail } from '../../components/url/urls';\nimport { Paragrafo } from '../allTrip/AllTripStyled';\nimport { Tittle } from '../subscribeUser/subsStyled';\nimport { Container, ButtonCreate, ContainerCard, Botoes, Buttons, Linha } from './detailStyled';\n\nexport default function TripDetail() {\n\t//Vou ser uma função de de apertar e ver os detalhes\n\tconst [ id, setId ] = useState(localStorage.getItem('id'));\n\tconst [ viagemDetalhada, setViagemDetalhada ] = useState({});\n\n  const [pendentes, setPendentes] = useState([])\n  const [aprovados, setAprovados] = useState([])\n\n\n\tconst todosOsDetalhes = () => {\n\t\tconst url = urlTripDetail + id;\n\t\taxios\n\t\t\t.get(`${url}`, {\n\t\t\t\theaders: {\n\t\t\t\t\tauth: localStorage.getItem('token')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tsetViagemDetalhada(res.data.trip);\n        setPendentes(res.data.trip.candidates);\n\t\t\t\tsetAprovados(res.data.trip.approved);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err.data);\n\t\t\t});\n\t};\n\n\tconst aprovarCandidato = (candidateId) => {\n\t\tconst url = `https://us-central1-labenu-apis.cloudfunctions.net/labeX/dricaMoreira/trips/${id}/candidates/${candidateId}/decide`\n\t\tconst body = {\n\t\t\tapprove: true,\n\t\t}\n\t\taxios.put(url, body, {\n\t\t\theaders: {\n\t\t\t\tauth: localStorage.getItem('token')\n\t\t\t}\n\t\t})\n\t\t.then((res) => {\n\t\t\ttodosOsDetalhes()\n\t\t})\n\t\t.catch((err) => {\n\t\t\talert('Não foi possível aprovar o(a) candidato(a)')\n\t\t\tconsole.log(err.response);\n\t\t})\n\t}\n\n\tconst reprovarCandidato = (reproveId) => {\n\t\tconst url = `https://us-central1-labenu-apis.cloudfunctions.net/labeX/dricaMoreira/trips/${id}/candidates/${reproveId}/decide`\n\t\tconst body = {\n\t\t\tapprove: false\n\t\t}\n\t\taxios.put(url, body, {\n\t\t\theaders: {\n\t\t\t\tauth: localStorage.getItem('token')\n\t\t\t}\n\t\t})\n\t\t.then(() => {\n\t\t\ttodosOsDetalhes()\n\t\t})\n\t\t.catch((err) => {\n\t\t\talert('Não foi possível aprovar o(a) candidato(a)')\n\t\t})\n\n\t}\n\n\tuseEffect(() => {\n\t\ttodosOsDetalhes();\n\t}, []);\n\n\treturn (\n\t\t<Container>\n\t\t\t<Tittle>Detalhes de Viagens</Tittle>\n\t\t\t<Link to=\"/dashboard\">\n\t\t\t\t<ButtonCreate>Voltar ao painel administrativo</ButtonCreate>\n\t\t\t</Link>\n\t\t\t<ContainerCard>\n\t\t\t\t<h1>{viagemDetalhada.name}</h1>\n\t\t\t\t<Paragrafo>{viagemDetalhada.description}</Paragrafo>\n\t\t\t\t<Paragrafo>{viagemDetalhada.planet}</Paragrafo>\n\t\t\t\t<Paragrafo>{viagemDetalhada.durationInDays}</Paragrafo>\n\t\t\t\t<Paragrafo>{viagemDetalhada.date}</Paragrafo>\n\t\t\t</ContainerCard>\n\n\t\t\t<h1>Candidatos aprovados</h1>\n\t\t\t<ContainerCard>\n\t\t\t{aprovados && aprovados.length > 0 ? aprovados.map((dados) => {\n\t\t\t\treturn <Linha key={dados.id}>{dados.name}</Linha>\n\t\t\t\t}) : <p>Nenhum candidato foi aprovado ainda</p>}\n\t\t\t</ContainerCard>\t\n\t\t\t<h1>Candidatos pendentes</h1>\n\t\t\t{pendentes && pendentes.length > 0 ? pendentes.map((dados) => {\n\t\t\t\treturn <ContainerCard key={dados.id}>\n\t\t\t\t\t<h1>{dados.name}</h1>\n\t\t\t\t\t<Botoes>\n\t\t\t\t\t\t<Buttons onClick={() => aprovarCandidato(dados.id)}>Aprovar</Buttons>\n\t\t\t\t\t\t<Buttons onClick={() => reprovarCandidato(dados.id)}>Reprovar</Buttons>\n\t\t\t\t\t</Botoes>\n\t\t\t\t</ContainerCard>\n\t\t\t}) : <p>Essa viagem não possui nenhum candidato pendente</p>}\n\t\t</Container>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}